# SPDX-FileCopyrightText: Copyright contributors to the Software Quality Assurance as a Service (SQAaaS) project.
#
# SPDX-License-Identifier: GPL-3.0-only
---
name: SQAaaS

on: [push]

jobs:
  sqaaas_job:
    runs-on: ubuntu-latest
    name: Job that triggers SQAaaS platform
    steps:
      - name: Extract branch name
        shell: bash
        run: echo "branch=${GITHUB_HEAD_REF:-${GITHUB_REF#refs/heads/}}" >> $GITHUB_OUTPUT
        id: extract_branch
      - name: Print current branch name (debug)
        shell: bash
        run: echo running on branch ${{ steps.extract_branch.outputs.branch }}
      - name: SQAaaS assessment step
        uses: eosc-synergy/sqaaas-assessment-action@v1
        with:
          repo: 'https://github.com/interTwin-eu/itwinai'
          branch: ${{ steps.extract_branch.outputs.branch }}

